---
title: Assignment 03 Naive Bayes Classifier
date: 2020-04-11

# Put any other Academic metadata here...
---


# Assignment 3 

The goal of this assignment is to learn about the Naive Bayes Classifier (NBC).   
You will post a complete assignment using Jupyter notebook in your homepage and submit to Canvas. 
For this homework, you are not allowed to use any library because NBC is very easy to implement. 
We will use text dataset about the movie review. Your goal is predicting the sentiment.  
[dataset](http://ai.stanford.edu/~amaas/data/sentiment/)
Below is the process.


### a. Divide the dataset as train, development and test. 
Because the raw dataset have divided the dataset as train and test. So we just need divide the train dataset as train and development. And the proportions are 80% and 20%.


```python
from os import listdir
from os.path import join

train_neg_path = 'aclImdb\\train\\neg'
train_pos_path = 'aclImdb\\train\\pos'
test_neg_path = 'aclImdb\\test\\neg'
test_pos_path = 'aclImdb\\test\\pos'

train_neg_files_name = [f for f in listdir(train_neg_path)] 
train_pos_files_name = [f for f in listdir(train_pos_path)] 
test_neg_files_name = [f for f in listdir(test_neg_path)] 
test_pos_files_name = [f for f in listdir(test_pos_path)]

train_neg_files = [] 
train_pos_files = [] 
test_neg_files = [] 
test_pos_files = []
for file_name in train_neg_files_name:
    train_neg_files.append(join(train_neg_path, file_name))

for file_name in train_pos_files_name:
    train_pos_files.append(join(train_pos_path, file_name))
    
for file_name in test_neg_files_name:
    test_neg_files.append(join(test_neg_path, file_name))
    
for file_name in test_pos_files_name:
    test_pos_files.append(join(test_pos_path, file_name))

development_neg_files = train_neg_files[10000:]
train_neg_files = train_neg_files[0:10000]

development_pos_files = train_pos_files[10000:]
train_pos_files = train_pos_files[0:10000]

print('train_neg_files length:',len(train_neg_files))
print('train_pos_files length:',len(train_pos_files))
print('development_neg_files length:',len(development_neg_files))
print('development_pos_files length:',len(development_pos_files))
print('test_neg_files length:',len(test_neg_files))
print('test_pos_files length:',len(test_pos_files))
```

    train_neg_files length: 10000
    train_pos_files length: 10000
    development_neg_files length: 2500
    development_pos_files length: 2500
    test_neg_files length: 12500
    test_pos_files length: 12500
    

###  b. Build a vocabulary as list. 

You may omit rare words for example if the occurrence is less than five times     
A reverse index as the key value might be handy     
{“the”: 0, “I”:1, “happy”:2 , … }



```python
stop_words = ['',',','"','.','+','-','!','?','*','/','@','1','2','3','4','5','6','7','8','9','#','$','%','&','^','(',')',':','...','a', 'about', 'above', 'after', 'again', 'against', 'all', 'am', 'an', 'and', 'any', 'are', "aren't", 'as', 'at',
 'be', 'because', 'been', 'before', 'being', 'below', 'between', 'both', 'but', 'by', 'can', "can't", 'cannot', 'could', "couldn't", 'did', "didn't", 'do', 'does', "doesn't", 'doing', "don't", 'down', 'during',
 'each', 'few', 'for', 'from', 'further', 
 'had', "hadn't", 'has', "hasn't", 'have', "haven't", 'having', 'he', "he'd", "he'll", "he's", 'her', 'here', "here's",
 'hers', 'herself', 'him', 'himself', 'his', 'how', "how's",
 'i', "i'd", "i'll", "i'm", "i've", 'if', 'in', 'into', 'is', "isn't", 'it', "it's", 'its', 'itself',
 "let's", 'me', 'more', 'most', "mustn't", 'my', 'myself',
 'no', 'nor', 'not', 'of', 'off', 'on', 'once', 'only', 'or', 'other', 'ought', 'our', 'ours' 'ourselves', 'out', 'over', 'own',
 'same', "shan't", 'she', "she'd", "she'll", "she's", 'should', "shouldn't", 'so', 'some', 'such', 
 'than',"that's", 'that', 'their', 'theirs', 'them', 'themselves', 'then', 'there', "there's", 'these', 'they', "they'd", 
 "they'll", "they're", "they've", 'this', 'those', 'through', 'to', 'too', 'under', 'until', 'up', 'very', 
 'was', "wasn't", 'we', "we'd", "we'll", "we're", "we've", 'were', "weren't", 'what', "what's", 'when', "when's", 'where',
 "where's", 'which', 'while', 'who', "who's", 'whom', 'why', "why's",'will', 'with', "won't", 'would', "wouldn't", 
 'you', "you'd", "you'll", "you're", "you've", 'your', 'yours', 'yourself', 'yourselves', 
 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten', 'hundred', 'thousand', '1st', '2nd', '3rd',
 '4th', '5th', '6th', '7th', '8th', '9th', '10th','\t','/><br','<br']
```


```python
def preprocess(words):
    words = [word.lower() for word in words]
    words = [word for word in words if not word.isdigit()]
    words = [word for word in words if not len(word) <= 2]
    temp = []
    for word in words:
        if (word[0] == "(" or word[0] == "'" or word[0] == '"' or word[0] == "." or word[0] == "," or word[0] == "?"):
            word = word[1:len(word)]
        if(word[len(word)-1] == ")" or word[len(word)-1] == "'" or word[len(word)-1] == "." or word[len(word)-1] == "," or word[len(word)-1] == "?"):
            word = word[1:len(word)-1]
        if (len(word) > 2):
            if(word[0] == "/" and word[1] == ">"):
                word = word[2:len(word)]
        temp.append(word)
    words = temp
    words = [word for word in words if not word in stop_words]
    return words
```


```python
dict_of_words = {}

for file in train_neg_files:
    f = open(file, encoding='utf-8')
    text = f.readlines()
    words = []
    for line in text:
        words = line.strip().split(" ")
        words = preprocess(words)
        words = set(words)
        for word in words:
            if not word in dict_of_words.keys():
                dict_of_words[word] = 1
            else:
                dict_of_words[word] = dict_of_words[word] + 1
               
for file in train_pos_files:
    f = open(file, encoding='utf-8')
    text = f.readlines()
    words = []
    for line in text:
        words = line.strip().split(" ")
        words = preprocess(words)
        words = set(words)
        for word in words:
            if not word in dict_of_words.keys():
                dict_of_words[word] = 1
            else:
                dict_of_words[word] = dict_of_words[word] + 1

for key in list(dict_of_words.keys()):
    if dict_of_words[key] < 5:
        dict_of_words.pop(key)


reverse_index = {}
i = 0
for word in dict_of_words:
    reverse_index[word] = i
    i = i + 1
    
reverse_index
```




    {'omedy': 0,
     'nsane': 1,
     'third': 2,
     'future': 3,
     'whole': 4,
     'the': 5,
     'era': 6,
     'opening': 7,
     'seem': 8,
     'think': 9,
     'ig': 10,
     'technical': 11,
     'starts': 12,
     'orchestra': 13,
     'ff': 14,
     'better': 15,
     'cinematography': 16,
     'unnatural': 17,
     'narrative': 18,
     'shakespeare': 19,
     'general': 20,
     'utting': 21,
     'rader': 22,
     'easy': 23,
     'mob': 24,
     'time': 25,
     'making': 26,
     'frederic': 27,
     'formal': 28,
     'even': 29,
     'scene': 30,
     'audience': 31,
     'make': 32,
     'just': 33,
     'riefly': 34,
     'feelings': 35,
     'violent': 36,
     'story': 37,
     'ingers': 38,
     'forrest': 39,
     'turned': 40,
     'level': 41,
     'example': 42,
     'dialogue': 43,
     'great': 44,
     'stars': 45,
     'might': 46,
     'unfortunately': 47,
     'stays': 48,
     'good': 49,
     'crazy': 50,
     'absurd': 51,
     'eventually': 52,
     'cryptic': 53,
     'sally': 54,
     'man': 55,
     'terrific': 56,
     'seen': 57,
     'airline': 58,
     'old': 59,
     'means': 60,
     'land': 61,
     'period': 62,
     'businessman': 63,
     'either': 64,
     'airport': 65,
     'rail': 66,
     'add': 67,
     'real': 68,
     'lack': 69,
     'boring': 70,
     'action': 71,
     'dead': 72,
     'since': 73,
     'short': 74,
     'public': 75,
     'sir': 76,
     'said': 77,
     'favourite': 78,
     'necessarily': 79,
     'philip': 80,
     'illy': 81,
     'easons': 82,
     'hits': 83,
     'another': 84,
     'discovery': 85,
     'helicopters': 86,
     'classic': 87,
     'michael': 88,
     'say': 89,
     'air': 90,
     'rig': 91,
     'pportunity': 92,
     'though': 93,
     'familiar': 94,
     'stevens': 95,
     'missed': 96,
     'video': 97,
     'disused': 98,
     'nside': 99,
     'anything': 100,
     'lemmon': 101,
     'although': 102,
     'acting': 103,
     'flying': 104,
     'behind': 105,
     'unsympathetic': 106,
     'lots': 107,
     'original': 108,
     'tewart': 109,
     'minutes': 110,
     'disaster': 111,
     'knock': 112,
     'known': 113,
     '970': 114,
     'gets': 115,
     'model': 116,
     'riangle': 117,
     'versions': 118,
     'crew': 119,
     'worse': 120,
     'drunk': 121,
     'banker': 122,
     'suspense': 123,
     'nice': 124,
     'liked': 125,
     'slow': 126,
     'like': 127,
     'effects': 128,
     'problems': 129,
     'theatrical': 130,
     'entertaining': 131,
     'estate': 132,
     'faces': 133,
     'equence': 134,
     'loaded': 135,
     'directed': 136,
     'generated': 137,
     'hoices': 138,
     'planned': 139,
     'wilson': 140,
     'plan': 141,
     'predecessors': 142,
     'descent': 143,
     'huge': 144,
     'useum': 145,
     'footage': 146,
     'scenes': 147,
     'arsh': 148,
     'cargo': 149,
     'dull': 150,
     'pride': 151,
     'plane': 152,
     'paintings': 153,
     'too.<br': 154,
     'danger': 155,
     'tension': 156,
     'winner': 157,
     'shame': 158,
     'christopher': 159,
     'cut': 160,
     'pace': 161,
     'ere': 162,
     'background.<br': 163,
     'flown': 164,
     'something': 165,
     'actually': 166,
     'popular': 167,
     'robert': 168,
     'run': 169,
     'idea': 170,
     'place': 171,
     '972)': 172,
     'star': 173,
     'credits': 174,
     'george': 175,
     'near': 176,
     'shots': 177,
     'film': 178,
     'ideas': 179,
     'dilemma': 180,
     'sure': 181,
     'island': 182,
     'fashions': 183,
     'lee': 184,
     'hall': 185,
     'trying': 186,
     'keeps': 187,
     'preparation': 188,
     'new': 189,
     'sequel': 190,
     'drown': 191,
     'second': 192,
     'production': 193,
     'ust': 194,
     'pick': 195,
     'ither': 196,
     'much': 197,
     'bland': 198,
     'een': 199,
     'become': 200,
     'mount': 201,
     'look': 202,
     'end': 203,
     'lacking': 204,
     'passengers': 205,
     'longer': 206,
     'worried': 207,
     'fast': 208,
     'ethargic': 209,
     'badly': 210,
     'says': 211,
     'takes': 212,
     'oscar': 213,
     'sunken': 214,
     'preferring': 215,
     'grant': 216,
     'sinking': 217,
     'sleeping': 218,
     'things': 219,
     'maybe': 220,
     'adventure': 221,
     'excitement': 222,
     'toy': 223,
     'sea': 224,
     "haracter's": 225,
     'set-pieces': 226,
     'plenty': 227,
     'interior': 228,
     'pretty': 229,
     'sluggish': 230,
     'water': 231,
     'version': 232,
     'nothing': 233,
     'ialogue': 234,
     'jameson': 235,
     'almost': 236,
     'happens': 237,
     'opened': 238,
     'jerry': 239,
     'isolated': 240,
     'design': 241,
     'sit': 242,
     'board': 243,
     'followed': 244,
     'est': 245,
     'horrible': 246,
     'submerged': 247,
     'bang': 248,
     'kennedy': 249,
     'reat': 250,
     'given': 251,
     '979)': 252,
     'direction': 253,
     'sequels': 254,
     'miles': 255,
     'bottom': 256,
     'facing': 257,
     'made': 258,
     'different': 259,
     'mid-air': 260,
     'lethargic': 261,
     'home': 262,
     'sort': 263,
     'urgency': 264,
     'forgotten': 265,
     'thought': 266,
     'james': 267,
     'flashbacks': 268,
     'films': 269,
     'joe': 270,
     'rescue': 271,
     'makers': 272,
     'julie': 273,
     'stark': 274,
     'values': 275,
     'expected': 276,
     'mistake': 277,
     'also': 278,
     'including': 279,
     'belonging': 280,
     'trapped': 281,
     'rich': 282,
     'dated': 283,
     'stewart': 284,
     'along': 285,
     'steal': 286,
     'course': 287,
     'little': 288,
     'rather': 289,
     'valuable': 290,
     'reckon': 291,
     'sinks': 292,
     'bad': 293,
     'sending': 294,
     'loses': 295,
     'looks': 296,
     'navy': 297,
     'bunch': 298,
     'decent': 299,
     'worker': 300,
     'help': 301,
     'ships': 302,
     'runs': 303,
     'bodies': 304,
     'strip': 305,
     'ocean': 306,
     'flesh': 307,
     'plot': 308,
     'thriller': 309,
     'jack': 310,
     'see': 311,
     'daughter': 312,
     'monte': 313,
     'hour': 314,
     'nfortunately': 315,
     'control': 316,
     'middle': 317,
     'razzie': 318,
     'right': 319,
     'slightly': 320,
     'involved': 321,
     'back': 322,
     'barely': 323,
     'crashing': 324,
     'doors': 325,
     'extra': 326,
     'await': 327,
     'brand': 328,
     'kathleen': 329,
     'oil': 330,
     'cross': 331,
     'orientated': 332,
     'bit': 333,
     'alright': 334,
     'entertained': 335,
     'couple': 336,
     'odd': 337,
     'luxury': 338,
     'pectacular': 339,
     'many': 340,
     'far': 341,
     'running': 342,
     'flick': 343,
     'anybody': 344,
     'chef': 345,
     'put': 346,
     'love': 347,
     'lse': 348,
     'nominated': 349,
     'well': 350,
     'know.<br': 351,
     'xploits': 352,
     'never': 353,
     'ith': 354,
     'lacked': 355,
     'shared': 356,
     'convinced': 357,
     'forget': 358,
     'creenplay': 359,
     'ovie': 360,
     'leading': 361,
     'actors': 362,
     'judge': 363,
     'exactly': 364,
     'part': 365,
     'enamored': 366,
     'ctors': 367,
     'ultimately': 368,
     'first:': 369,
     'needed': 370,
     'ut': 371,
     'across': 372,
     'inevitably': 373,
     'chemistry': 374,
     'came': 375,
     'youthful': 376,
     'skills': 377,
     'disappointed': 378,
     'ourself': 379,
     'scar': 380,
     'lay': 381,
     'screen': 382,
     'director': 383,
     'finger': 384,
     'estaurant': 385,
     'merely': 386,
     'ctress': 387,
     'translated': 388,
     'seemed': 389,
     'romantic': 390,
     'charisma': 391,
     'guns': 392,
     'screening': 393,
     'xcellent': 394,
     'sorry': 395,
     'ake': 396,
     'track': 397,
     'maureen': 398,
     'rutal': 399,
     'ergman': 400,
     'long': 401,
     'dress': 402,
     'dancing': 403,
     'ark': 404,
     'stapleton': 405,
     'brains': 406,
     'omplaining': 407,
     'red': 408,
     'getting': 409,
     'enjoyed': 410,
     'supposed': 411,
     'hard': 412,
     'stuff': 413,
     'painful': 414,
     'performances': 415,
     'photographic': 416,
     'ying': 417,
     'otherwise': 418,
     'ninspired': 419,
     'blow': 420,
     'thing': 421,
     'know': 422,
     'handed': 423,
     'atch': 424,
     'sitting': 425,
     'ell': 426,
     'people': 427,
     'art"': 428,
     'ow': 429,
     'hours': 430,
     'anyone': 431,
     'watch': 432,
     'ilm': 433,
     '1/2': 434,
     'fan': 435,
     'alking': 436,
     'ong': 437,
     'sound': 438,
     'cene': 439,
     'absence': 440,
     'really': 441,
     'ripoff': 442,
     'especially': 443,
     'caused': 444,
     'walked': 445,
     'style': 446,
     'shadowy': 447,
     'drenched': 448,
     'left': 449,
     'perpetual': 450,
     'usic': 451,
     'method': 452,
     'whatever': 453,
     'painfully': 454,
     'introspective': 455,
     'taken': 456,
     'ove': 457,
     'going': 458,
     'techniques': 459,
     'characters': 460,
     'looms': 461,
     'contempt': 462,
     'gives': 463,
     'reason': 464,
     'allen': 465,
     'elevance': 466,
     'wine': 467,
     'life': 468,
     "audience's": 469,
     "70's": 470,
     'baked': 471,
     'slap': 472,
     'cheese': 473,
     'want': 474,
     'woody': 475,
     'ability': 476,
     'depth': 477,
     'backdrop': 478,
     'beyond': 479,
     'parents': 480,
     'lived': 481,
     'oom': 482,
     'interminable': 483,
     'nteriors': 484,
     'interiors': 485,
     'unmistakable': 486,
     'speaks': 487,
     'parade': 488,
     'defined': 489,
     'igarettes': 490,
     'areer': 491,
     'past': 492,
     't': 493,
     'crap': 494,
     'haracters': 495,
     'wrought': 496,
     'instead': 497,
     'worst': 498,
     'damage': 499,
     'illicit': 500,
     'raining': 501,
     'rest': 502,
     'without': 503,
     'platitudes': 504,
     'drama': 505,
     'affected': 506,
     'ripe': 507,
     'athos': 508,
     'find': 509,
     'understanding': 510,
     'spiritually': 511,
     'improvisational': 512,
     'arents': 513,
     'family': 514,
     'insistence': 515,
     'watched': 516,
     'comic': 517,
     'pretend': 518,
     'chose': 519,
     'feel': 520,
     'ull': 521,
     'remind': 522,
     'extreme': 523,
     'amid': 524,
     'promoting': 525,
     'appened': 526,
     'pronounced': 527,
     'esolution': 528,
     'lives': 529,
     'hat': 530,
     'desperate': 531,
     'theater': 532,
     'self': 533,
     'sympathy': 534,
     'ivorce': 535,
     'directors': 536,
     'cosmopolitan': 537,
     'ingmar': 538,
     'hining': 539,
     'indulgent': 540,
     'found': 541,
     'best': 542,
     'favorite': 543,
     'therwise': 544,
     'feeling': 545,
     'fart': 546,
     'language': 547,
     'message': 548,
     'hatever': 549,
     'movie': 550,
     'happy': 551,
     'onnect': 552,
     'immersed': 553,
     'took': 554,
     'movies': 555,
     'simply': 556,
     'retentious': 557,
     'felt': 558,
     'need': 559,
     'everyone': 560,
     'ecently': 561,
     'erman': 562,
     'recommend': 563,
     'point': 564,
     'elevated': 565,
     'hem': 566,
     'dentity': 567,
     'meaning': 568,
     'ruth"': 569,
     'insight': 570,
     'lost"': 571,
     'goes': 572,
     'distorted': 573,
     'expressionist': 574,
     'ntentionally': 575,
     'piece': 576,
     'uted': 577,
     'eath': 578,
     'f': 579,
     'elief': 580,
     'using': 581,
     'prose': 582,
     'highly': 583,
     'connection': 584,
     'ature': 585,
     'quest': 586,
     'psychological': 587,
     'onderous': 588,
     'supportive': 589,
     'cultural': 590,
     'imitations': 591,
     'form': 592,
     'kid': 593,
     'whining': 594,
     'retensions': 595,
     'applauded': 596,
     'ripping': 597,
     'critics': 598,
     'pretentious': 599,
     'depalma': 600,
     'get': 601,
     'unbearably': 602,
     'otwithstanding': 603,
     'off"': 604,
     'imitating': 605,
     'robin': 606,
     'hitchcock': 607,
     'strange': 608,
     'contrary': 609,
     'this:': 610,
     'generally': 611,
     'iew': 612,
     'ilms': 613,
     "allen's": 614,
     'appears': 615,
     'wooden': 616,
     'originality': 617,
     'brian': 618,
     "wood's": 619,
     'agree': 620,
     'reason:': 621,
     'bergman': 622,
     'mostly': 623,
     'accusations': 624,
     'first': 625,
     'eople': 626,
     'tricked': 627,
     'funnier': 628,
     'mbarrassing': 629,
     'less': 630,
     'abits': 631,
     'ngst': 632,
     "woody's": 633,
     'brother': 634,
     'afraid': 635,
     'death': 636,
     'later': 637,
     'poor': 638,
     'close': 639,
     'surrogate': 640,
     'curiosity': 641,
     'embarrassing': 642,
     'polite': 643,
     'traight': 644,
     'melodrama': 645,
     'domineering': 646,
     'chock': 647,
     'thespian': 648,
     'existential': 649,
     'lines': 650,
     'mary': 651,
     'york': 652,
     'incredibly': 653,
     'kenneth': 654,
     'winter': 655,
     'reminding': 656,
     'quietly': 657,
     'beth': 658,
     'copy': 659,
     'keep': 660,
     'loud': 661,
     'dysfunctional': 662,
     'surf': 663,
     'read': 664,
     'towering': 665,
     'susan': 666,
     'funny': 667,
     'brilliant': 668,
     'cast': 669,
     'turning': 670,
     'quite': 671,
     'tc': 672,
     'seems': 673,
     'trangulation': 674,
     'talented': 675,
     'ickens': 676,
     'ntertaining': 677,
     'laugh': 678,
     'dialog': 679,
     'ics': 680,
     'walking': 681,
     'quotations': 682,
     'mother': 683,
     'take': 684,
     'reworked': 685,
     'pencil': 686,
     'aper': 687,
     'branagh': 688,
     'heart': 689,
     'serious"': 690,
     'reference': 691,
     'ess!': 692,
     'looking': 693,
     'intellectual': 694,
     'directorial': 695,
     'rarely': 696,
     'play': 697,
     '"i\'m': 698,
     'stone': 699,
     'basic': 700,
     'wilde': 701,
     "bergman's": 702,
     'dwarfs': 703,
     'etc.<br': 704,
     'swedish': 705,
     'arody': 706,
     'lot': 707,
     'use': 708,
     'hurt': 709,
     'years': 710,
     'scratching': 711,
     'oem': 712,
     '"i': 713,
     're': 714,
     'self-involved': 715,
     'ay': 716,
     'attempt': 717,
     'caring': 718,
     'owever': 719,
     'full': 720,
     'esults': 721,
     'ilarious': 722,
     'earlier': 723,
     'weden': 724,
     'poem': 725,
     'comes': 726,
     'erm': 727,
     'neurotic': 728,
     'lifted': 729,
     'h': 730,
     'armon': 731,
     'judy': 732,
     'beautiful': 733,
     'paid': 734,
     'laughs': 735,
     'woman': 736,
     'bubble': 737,
     'angie': 738,
     'actresses': 739,
     'enough': 740,
     'goldberg': 741,
     'lame': 742,
     'potentially': 743,
     'hot': 744,
     'year': 745,
     'writers': 746,
     'harlie': 747,
     'ld': 748,
     'clueless': 749,
     'rating': 750,
     'predictable': 751,
     'surprised': 752,
     'sexy': 753,
     'orld': 754,
     'nstead': 755,
     'aste': 756,
     'rosanna': 757,
     'timid': 758,
     'veil': 759,
     'hung': 760,
     'anyway': 761,
     'relationships': 762,
     'viewers': 763,
     'irector': 764,
     'got': 765,
     'shot': 766,
     'whoopi': 767,
     'ubiquitous': 768,
     'sheen': 769,
     'bath': 770,
     'harmon': 771,
     'produces': 772,
     'carries': 773,
     'order"': 774,
     'mess': 775,
     'law': 776,
     'effort': 777,
     'unscathed': 778,
     'failed': 779,
     'bitchy': 780,
     'hopefully': 781,
     'mediocre': 782,
     'charlie': 783,
     'positive': 784,
     'come': 785,
     'demeanor': 786,
     'bag': 787,
     'arriage': 788,
     'may': 789,
     'boyfriend': 790,
     'true': 791,
     'artistic"': 792,
     'next': 793,
     'finish': 794,
     'pictures': 795,
     'go)': 796,
     'character': 797,
     'played': 798,
     'torture': 799,
     'applause': 800,
     'ar': 801,
     "0's": 802,
     'ork': 803,
     'jumped': 804,
     'really.<br': 805,
     'it!': 806,
     'ime': 807,
     'guess': 808,
     'hinking': 809,
     'figure': 810,
     'ar)': 811,
     'unless': 812,
     'utdated': 813,
     'ountry': 814,
     'c': 815,
     'believable': 816,
     'nd': 817,
     'schrader': 818,
     '007': 819,
     'quick': 820,
     'either.<br': 821,
     'create': 822,
     'weak': 823,
     'else': 824,
     'set': 825,
     'likely': 826,
     'arter': 827,
     'finished': 828,
     'lawlessly': 829,
     'bout': 830,
     'n': 831,
     'q&a': 832,
     'watching': 833,
     'private': 834,
     'twenty': 835,
     'try': 836,
     'harrelson': 837,
     'stay': 838,
     'male': 839,
     'iraq': 840,
     'ad': 841,
     'rang': 842,
     'boring.<br': 843,
     'ahead': 844,
     'low': 845,
     'dark': 846,
     'lily': 847,
     'sense': 848,
     'recognized': 849,
     'subject': 850,
     'way': 851,
     'bondage': 852,
     'homosexual': 853,
     'lost': 854,
     'dignity': 855,
     'directing': 856,
     'elivers': 857,
     'redeem': 858,
     'giant': 859,
     'front': 860,
     'mid': 861,
     'moments': 862,
     'moritz': 863,
     'every': 864,
     'tick': 865,
     'tolerable': 866,
     'ever': 867,
     'oad': 868,
     'supporting': 869,
     'series': 870,
     'social': 871,
     'onotonous': 872,
     'attempts': 873,
     'plays': 874,
     'spite': 875,
     'utterly': 876,
     'paul': 877,
     'irecting': 878,
     'several': 879,
     'bounced': 880,
     'dimensional': 881,
     'sleepwalking': 882,
     'written': 883,
     'line': 884,
     'clumsy': 885,
     'wives': 886,
     'tory': 887,
     'managed': 888,
     'homas': 889,
     'ordinarily': 890,
     'rolling': 891,
     'acall': 892,
     'draining': 893,
     'incapable': 894,
     'east': 895,
     'properly': 896,
     'im': 897,
     'washington': 898,
     'energy': 899,
     'languages': 900,
     'southern': 901,
     'kristin': 902,
     'companion': 903,
     'lauren': 904,
     'lite': 905,
     'eads': 906,
     'south': 907,
     'still': 908,
     'ounce': 909,
     'fact': 910,
     'heat': 911,
     'around': 912,
     'rocess': 913,
     'kind': 914,
     'camera': 915,
     'bored': 916,
     '.c': 917,
     'beginning': 918,
     'laws': 919,
     'ast': 920,
     'endless': 921,
     'affect': 922,
     'someone': 923,
     'ctresses': 924,
     'accent': 925,
     'magazine': 926,
     'fortunately': 927,
     'worth': 928,
     'deliver': 929,
     'comatose': 930,
     'act': 931,
     'scott': 932,
     'hink': 933,
     'ovies': 934,
     'interesting': 935,
     'fill': 936,
     'inutes': 937,
     'mean': 938,
     'events': 939,
     'completely': 940,
     'aked': 941,
     'iterally': 942,
     'troubled': 943,
     "director's": 944,
     'gritty': 945,
     'wasted': 946,
     'called': 947,
     'noteworthy': 948,
     'storyline': 949,
     'everything': 950,
     'oming': 951,
     'awson': 952,
     'ersion': 953,
     'nap': 954,
     'probably': 955,
     'disturbing': 956,
     'expect': 957,
     'nc-17': 958,
     'escent': 959,
     'away': 960,
     'basically': 961,
     'together': 962,
     'reams': 963,
     'vents': 964,
     'total': 965,
     'rosario': 966,
     'saw.<br': 967,
     'throw': 968,
     'o': 969,
     'inadequacy': 970,
     'hows': 971,
     'opics': 972,
     'ease': 973,
     'sitcom': 974,
     'fight': 975,
     'development': 976,
     'uch': 977,
     'erformance': 978,
     'ood': 979,
     'ometimes': 980,
     'orruption': 981,
     'excellent': 982,
     'hints': 983,
     'tunning': 984,
     'discussion': 985,
     'job': 986,
     'related': 987,
     'bed': 988,
     'drinking': 989,
     'eremony': 990,
     'dinner': 991,
     'power': 992,
     'bearable': 993,
     'style.<br': 994,
     'visuals': 995,
     'redictable': 996,
     'watchable': 997,
     'train': 998,
     'tea': 999,
     ...}



###  c.Calculate the following probability
Probability of the occurrence     
P[“the”] = num of documents containing ‘the’ / num of all documents    
Conditional probability based on the sentiment    
P[“the” | Positive]  = # of positive documents containing “the” / num of all positive review documents   



```python
dict_of_words_neg = {}
dict_of_words_pos = {}

for word in reverse_index:
    dict_of_words_neg[word] = 0
    dict_of_words_pos[word] = 0

for file in train_neg_files:
    f = open(file, encoding='utf-8')
    text = f.readlines()
    words = []
    for line in text:
        words = line.strip().split(" ")
        words = preprocess(words)
        words = set(words)
        for word in words:
            if word in dict_of_words_neg.keys():
                dict_of_words_neg[word] = dict_of_words_neg[word] + 1

for file in train_pos_files:
    f = open(file, encoding='utf-8')
    text = f.readlines()
    words = []
    for line in text:
        words = line.strip().split(" ")
        words = preprocess(words)
        words = set(words)
        for word in words:
            if word in dict_of_words_pos.keys():
                dict_of_words_pos[word] = dict_of_words_pos[word] + 1

dict_of_words_neg
dict_of_words_pos
```




    {'omedy': 320,
     'nsane': 17,
     'third': 223,
     'future': 264,
     'whole': 843,
     'the': 9896,
     'era': 142,
     'opening': 333,
     'seem': 703,
     'think': 1962,
     'ig': 55,
     'technical': 102,
     'starts': 360,
     'orchestra': 13,
     'ff': 220,
     'better': 1279,
     'cinematography': 302,
     'unnatural': 2,
     'narrative': 112,
     'shakespeare': 51,
     'general': 190,
     'utting': 4,
     'rader': 7,
     'easy': 333,
     'mob': 42,
     'time': 2395,
     'making': 746,
     'frederic': 7,
     'formal': 12,
     'even': 2704,
     'scene': 1146,
     'audience': 497,
     'make': 1967,
     'just': 3668,
     'riefly': 13,
     'feelings': 155,
     'violent': 135,
     'story': 2790,
     'ingers': 11,
     'forrest': 10,
     'turned': 279,
     'level': 227,
     'example': 278,
     'dialogue': 311,
     'great': 3040,
     'stars': 433,
     'might': 806,
     'unfortunately': 174,
     'stays': 92,
     'good': 3268,
     'crazy': 163,
     'absurd': 49,
     'eventually': 258,
     'cryptic': 5,
     'sally': 35,
     'man': 1330,
     'terrific': 211,
     'seen': 1866,
     'airline': 5,
     'old': 1295,
     'means': 235,
     'land': 104,
     'period': 211,
     'businessman': 29,
     'either': 373,
     'airport': 13,
     'rail': 16,
     'add': 249,
     'real': 1356,
     'lack': 299,
     'boring': 149,
     'action': 691,
     'dead': 322,
     'since': 952,
     'short': 512,
     'public': 173,
     'sir': 78,
     'said': 492,
     'favourite': 166,
     'necessarily': 71,
     'philip': 41,
     'illy': 61,
     'easons': 112,
     'hits': 94,
     'another': 1251,
     'discovery': 40,
     'helicopters': 1,
     'classic': 590,
     'michael': 382,
     'say': 1285,
     'air': 242,
     'rig': 1,
     'pportunity': 23,
     'though': 1232,
     'familiar': 214,
     'stevens': 23,
     'missed': 156,
     'video': 337,
     'disused': 2,
     'nside': 31,
     'anything': 672,
     'lemmon': 30,
     'although': 972,
     'acting': 1318,
     'flying': 111,
     'behind': 419,
     'unsympathetic': 8,
     'lots': 279,
     'original': 715,
     'tewart': 47,
     'minutes': 416,
     'disaster': 43,
     'knock': 36,
     'known': 377,
     '970': 12,
     'gets': 977,
     'model': 63,
     'riangle': 4,
     'versions': 71,
     'crew': 152,
     'worse': 97,
     'drunk': 59,
     'banker': 5,
     'suspense': 155,
     'nice': 638,
     'liked': 571,
     'slow': 245,
     'like': 4143,
     'effects': 423,
     'problems': 235,
     'theatrical': 94,
     'entertaining': 440,
     'estate': 36,
     'faces': 105,
     'equence': 72,
     'loaded': 28,
     'directed': 421,
     'generated': 28,
     'hoices': 22,
     'planned': 34,
     'wilson': 49,
     'plan': 118,
     'predecessors': 6,
     'descent': 22,
     'huge': 288,
     'useum': 15,
     'footage': 144,
     'scenes': 1163,
     'arsh': 17,
     'cargo': 4,
     'dull': 77,
     'pride': 45,
     'plane': 76,
     'paintings': 19,
     'too.<br': 51,
     'danger': 46,
     'tension': 141,
     'winner': 57,
     'shame': 152,
     'christopher': 138,
     'cut': 217,
     'pace': 199,
     'ere': 641,
     'background.<br': 6,
     'flown': 6,
     'something': 1282,
     'actually': 1063,
     'popular': 229,
     'robert': 379,
     'run': 309,
     'idea': 437,
     'place': 648,
     '972)': 4,
     'star': 510,
     'credits': 145,
     'george': 269,
     'near': 276,
     'shots': 196,
     'film': 4907,
     'ideas': 148,
     'dilemma': 19,
     'sure': 698,
     'island': 91,
     'fashions': 9,
     'lee': 165,
     'hall': 65,
     'trying': 675,
     'keeps': 290,
     'preparation': 12,
     'new': 1415,
     'sequel': 127,
     'drown': 7,
     'second': 596,
     'production': 414,
     'ust': 52,
     'pick': 142,
     'ither': 103,
     'much': 2501,
     'bland': 32,
     'een': 400,
     'become': 606,
     'mount': 7,
     'look': 1168,
     'end': 1120,
     'lacking': 60,
     'passengers': 17,
     'longer': 157,
     'worried': 39,
     'fast': 196,
     'ethargic': 0,
     'badly': 61,
     'says': 279,
     'takes': 854,
     'oscar': 305,
     'sunken': 5,
     'preferring': 8,
     'grant': 74,
     'sinking': 17,
     'sleeping': 55,
     'things': 1039,
     'maybe': 616,
     'adventure': 149,
     'excitement': 43,
     'toy': 27,
     'sea': 54,
     "haracter's": 2,
     'set-pieces': 7,
     'plenty': 265,
     'interior': 19,
     'pretty': 932,
     'sluggish': 4,
     'water': 113,
     'version': 503,
     'nothing': 765,
     'ialogue': 125,
     'jameson': 4,
     'almost': 1022,
     'happens': 272,
     'opened': 52,
     'jerry': 102,
     'isolated': 35,
     'design': 83,
     'sit': 194,
     'board': 69,
     'followed': 129,
     'est': 380,
     'horrible': 107,
     'submerged': 4,
     'bang': 18,
     'kennedy': 24,
     'reat': 475,
     'given': 583,
     '979)': 2,
     'direction': 351,
     'sequels': 42,
     'miles': 75,
     'bottom': 79,
     'facing': 52,
     'made': 2085,
     'different': 826,
     'mid-air': 3,
     'lethargic': 3,
     'home': 479,
     'sort': 421,
     'urgency': 13,
     'forgotten': 101,
     'thought': 975,
     'james': 416,
     'flashbacks': 48,
     'films': 1583,
     'joe': 173,
     'rescue': 52,
     'makers': 82,
     'julie': 82,
     'stark': 43,
     'values': 109,
     'expected': 174,
     'mistake': 67,
     'also': 2807,
     'including': 439,
     'belonging': 9,
     'trapped': 66,
     'rich': 201,
     'dated': 88,
     'stewart': 100,
     'along': 644,
     'steal': 75,
     'course': 490,
     'little': 1890,
     'rather': 834,
     'valuable': 32,
     'reckon': 9,
     'sinks': 8,
     'bad': 960,
     'sending': 25,
     'loses': 95,
     'looks': 583,
     'navy': 50,
     'bunch': 149,
     'decent': 194,
     'worker': 25,
     'help': 613,
     'ships': 19,
     'runs': 178,
     'bodies': 42,
     'strip': 30,
     'ocean': 23,
     'flesh': 36,
     'plot': 1145,
     'thriller': 187,
     'jack': 279,
     'see': 3113,
     'daughter': 238,
     'monte': 4,
     'hour': 209,
     'nfortunately': 121,
     'control': 127,
     'middle': 247,
     'razzie': 1,
     'right': 923,
     'slightly': 212,
     'involved': 287,
     'back': 1434,
     'barely': 111,
     'crashing': 21,
     'doors': 27,
     'extra': 109,
     'await': 10,
     'brand': 33,
     'kathleen': 20,
     'oil': 46,
     'cross': 107,
     'orientated': 1,
     'bit': 1050,
     'alright': 8,
     'entertained': 38,
     'couple': 505,
     'odd': 178,
     'luxury': 12,
     'pectacular': 36,
     'many': 2193,
     'far': 830,
     'running': 289,
     'flick': 158,
     'anybody': 84,
     'chef': 4,
     'put': 747,
     'love': 2021,
     'lse': 154,
     'nominated': 93,
     'well': 2348,
     'know.<br': 21,
     'xploits': 3,
     'never': 2026,
     'ith': 192,
     'lacked': 30,
     'shared': 40,
     'convinced': 71,
     'forget': 238,
     'creenplay': 63,
     'ovie': 2295,
     'leading': 260,
     'actors': 1050,
     'judge': 79,
     'exactly': 339,
     'part': 1116,
     'enamored': 5,
     'ctors': 306,
     'ultimately': 171,
     'first:': 2,
     'needed': 183,
     'ut': 849,
     'across': 336,
     'inevitably': 36,
     'chemistry': 188,
     'came': 649,
     'youthful': 32,
     'skills': 68,
     'disappointed': 129,
     'ourself': 79,
     'scar': 53,
     'lay': 146,
     'screen': 530,
     'director': 952,
     'finger': 24,
     'estaurant': 7,
     'merely': 121,
     'ctress': 125,
     'translated': 29,
     'seemed': 354,
     'romantic': 323,
     'charisma': 29,
     'guns': 49,
     'screening': 49,
     'xcellent': 210,
     'sorry': 117,
     'ake': 104,
     'track': 109,
     'maureen': 28,
     'rutal': 24,
     'ergman': 5,
     'long': 1012,
     'dress': 52,
     'dancing': 162,
     'ark': 185,
     'stapleton': 5,
     'brains': 22,
     'omplaining': 4,
     'red': 217,
     'getting': 485,
     'enjoyed': 609,
     'supposed': 231,
     'hard': 774,
     'stuff': 233,
     'painful': 73,
     'performances': 650,
     'photographic': 8,
     'ying': 25,
     'otherwise': 130,
     'ninspired': 2,
     'blow': 57,
     'thing': 895,
     'know': 1637,
     'handed': 26,
     'atch': 392,
     'sitting': 131,
     'ell': 1159,
     'people': 2098,
     'art"': 6,
     'ow': 475,
     'hours': 217,
     'anyone': 809,
     'watch': 1807,
     'ilm': 2488,
     '1/2': 28,
     'fan': 543,
     'alking': 31,
     'ong': 261,
     'sound': 343,
     'cene': 328,
     'absence': 38,
     'really': 2773,
     'ripoff': 4,
     'especially': 1052,
     'caused': 88,
     'walked': 32,
     'style': 410,
     'shadowy': 9,
     'drenched': 6,
     'left': 645,
     'perpetual': 8,
     'usic': 258,
     'method': 37,
     'whatever': 184,
     'painfully': 46,
     'introspective': 5,
     'taken': 376,
     'ove': 365,
     'going': 1109,
     'techniques': 39,
     'characters': 1551,
     'looms': 4,
     'contempt': 10,
     'gives': 723,
     'reason': 457,
     'allen': 88,
     'elevance': 4,
     'wine': 16,
     'life': 1462,
     "audience's": 21,
     "70's": 89,
     'baked': 3,
     'slap': 20,
     'cheese': 17,
     'want': 1003,
     'woody': 50,
     'ability': 141,
     'depth': 144,
     'backdrop': 37,
     'beyond': 252,
     'parents': 203,
     'lived': 131,
     'oom': 93,
     'interminable': 1,
     'nteriors': 2,
     'interiors': 9,
     'unmistakable': 7,
     'speaks': 76,
     'parade': 22,
     'defined': 33,
     'igarettes': 5,
     'areer': 143,
     'past': 390,
     't': 2679,
     'crap': 77,
     'haracters': 591,
     'wrought': 9,
     'instead': 410,
     'worst': 144,
     'damage': 22,
     'illicit': 6,
     'raining': 18,
     'rest': 541,
     'without': 1149,
     'platitudes': 2,
     'drama': 353,
     'affected': 58,
     'ripe': 8,
     'athos': 18,
     'find': 1399,
     'understanding': 123,
     'spiritually': 5,
     'improvisational': 2,
     'arents': 78,
     'family': 819,
     'insistence': 5,
     'watched': 738,
     'comic': 314,
     'pretend': 35,
     'chose': 59,
     'feel': 951,
     'ull': 51,
     'remind': 64,
     'extreme': 109,
     'amid': 14,
     'promoting': 14,
     'appened': 72,
     'pronounced': 10,
     'esolution': 11,
     'lives': 454,
     'hat': 836,
     'desperate': 91,
     'theater': 176,
     'self': 125,
     'sympathy': 49,
     'ivorce': 15,
     'directors': 183,
     'cosmopolitan': 5,
     'ingmar': 6,
     'hining': 15,
     'indulgent': 6,
     'found': 862,
     'best': 2268,
     'favorite': 605,
     'therwise': 50,
     'feeling': 383,
     'fart': 9,
     'language': 159,
     'message': 228,
     'hatever': 14,
     'movie': 4783,
     'happy': 325,
     'onnect': 5,
     'immersed': 18,
     'took': 406,
     'movies': 1506,
     'simply': 567,
     'retentious': 15,
     'felt': 463,
     'need': 569,
     'everyone': 656,
     'ecently': 41,
     'erman': 20,
     'recommend': 752,
     'point': 660,
     'elevated': 8,
     'hem': 657,
     'dentity': 31,
     'meaning': 132,
     'ruth"': 4,
     'insight': 72,
     'lost"': 7,
     'goes': 756,
     'distorted': 9,
     'expressionist': 8,
     'ntentionally': 1,
     'piece': 399,
     'uted': 3,
     'eath': 173,
     'f': 163,
     'elief': 35,
     'using': 255,
     'prose': 2,
     'highly': 624,
     'connection': 78,
     'ature': 88,
     'quest': 64,
     'psychological': 118,
     'onderous': 1,
     'supportive': 11,
     'cultural': 69,
     'imitations': 15,
     'form': 249,
     'kid': 202,
     'whining': 9,
     'retensions': 3,
     'applauded': 12,
     'ripping': 41,
     'critics': 139,
     'pretentious': 34,
     'depalma': 6,
     'get': 2466,
     'unbearably': 7,
     'otwithstanding': 8,
     'off"': 3,
     'imitating': 8,
     'robin': 68,
     'hitchcock': 46,
     'strange': 293,
     'contrary': 30,
     'this:': 26,
     'generally': 147,
     'iew': 93,
     'ilms': 620,
     "allen's": 24,
     'appears': 260,
     'wooden': 34,
     'originality': 32,
     'brian': 111,
     "wood's": 10,
     'agree': 179,
     'reason:': 4,
     'bergman': 15,
     'mostly': 311,
     'accusations': 5,
     'first': 2495,
     'eople': 395,
     'tricked': 8,
     'funnier': 41,
     'mbarrassing': 3,
     'less': 558,
     'abits': 2,
     'ngst': 7,
     "woody's": 7,
     'brother': 218,
     'afraid': 119,
     'death': 433,
     'later': 624,
     'poor': 245,
     'close': 374,
     'surrogate': 9,
     'curiosity': 26,
     'embarrassing': 22,
     'polite': 8,
     'traight': 24,
     'melodrama': 43,
     'domineering': 10,
     'chock': 19,
     'thespian': 6,
     'existential': 16,
     'lines': 322,
     'mary': 182,
     'york': 242,
     'incredibly': 188,
     'kenneth': 44,
     'winter': 41,
     'reminding': 20,
     'quietly': 28,
     'beth': 4,
     'copy': 174,
     'keep': 613,
     'loud': 87,
     'dysfunctional': 20,
     'surf': 4,
     'read': 556,
     'towering': 6,
     'susan': 54,
     'funny': 806,
     'brilliant': 456,
     'cast': 1129,
     'turning': 105,
     'quite': 1339,
     'tc': 174,
     'seems': 1000,
     'trangulation': 3,
     'talented': 184,
     'ickens': 10,
     'ntertaining': 170,
     'laugh': 298,
     'dialog': 147,
     'ics': 3,
     'walking': 101,
     'quotations': 4,
     'mother': 338,
     'take': 1089,
     'reworked': 3,
     'pencil': 5,
     'aper': 19,
     'branagh': 31,
     'heart': 391,
     'serious"': 5,
     'reference': 51,
     'ess!': 2,
     'looking': 657,
     'intellectual': 59,
     'directorial': 57,
     'rarely': 142,
     'play': 670,
     '"i\'m': 6,
     'stone': 84,
     'basic': 162,
     'wilde': 4,
     "bergman's": 5,
     'dwarfs': 2,
     'etc.<br': 26,
     'swedish': 32,
     'arody': 11,
     'lot': 1544,
     'use': 588,
     'hurt': 84,
     'years': 1354,
     'scratching': 10,
     'oem': 11,
     '"i': 10,
     're': 161,
     'self-involved': 2,
     'ay': 1197,
     'attempt': 208,
     'caring': 51,
     'owever': 824,
     'full': 628,
     'esults': 29,
     'ilarious': 130,
     'earlier': 212,
     'weden': 16,
     'poem': 27,
     'comes': 883,
     'erm': 7,
     'neurotic': 22,
     'lifted': 18,
     'h': 121,
     'armon': 0,
     'judy': 29,
     'beautiful': 874,
     'paid': 72,
     'laughs': 130,
     'woman': 706,
     'bubble': 5,
     'angie': 21,
     'actresses': 110,
     'enough': 797,
     'goldberg': 32,
     'lame': 48,
     'potentially': 25,
     'hot': 263,
     'year': 534,
     'writers': 150,
     'harlie': 15,
     'ld': 130,
     'clueless': 11,
     'rating': 125,
     'predictable': 109,
     'surprised': 308,
     'sexy': 126,
     'orld': 371,
     'nstead': 102,
     'aste': 53,
     'rosanna': 0,
     'timid': 10,
     'veil': 3,
     'hung': 29,
     'anyway': 61,
     'relationships': 123,
     'viewers': 238,
     'irector': 221,
     'got': 1075,
     'shot': 489,
     'whoopi': 41,
     'ubiquitous': 8,
     'sheen': 12,
     'bath': 16,
     'harmon': 2,
     'produces': 21,
     'carries': 92,
     'order"': 1,
     'mess': 41,
     'law': 116,
     'effort': 146,
     'unscathed': 1,
     'failed': 84,
     'bitchy': 10,
     'hopefully': 57,
     'mediocre': 43,
     'charlie': 107,
     'positive': 124,
     'come': 1020,
     'demeanor': 14,
     'bag': 26,
     'arriage': 58,
     'may': 1237,
     'boyfriend': 78,
     'true': 831,
     'artistic"': 1,
     'next': 542,
     'finish': 80,
     'pictures': 137,
     'go)': 5,
     'character': 1539,
     'played': 959,
     'torture': 36,
     'applause': 17,
     'ar': 344,
     "0's": 135,
     'ork': 486,
     'jumped': 26,
     'really.<br': 6,
     'it!': 234,
     'ime': 1259,
     'guess': 279,
     'hinking': 33,
     'figure': 239,
     'ar)': 2,
     'unless': 100,
     'utdated': 9,
     'ountry': 97,
     'c': 10,
     'believable': 214,
     'nd': 998,
     'schrader': 3,
     '007': 18,
     'quick': 82,
     'either.<br': 24,
     'create': 220,
     'weak': 110,
     'else': 389,
     'set': 781,
     'likely': 139,
     'arter': 13,
     'finished': 84,
     'lawlessly': 7,
     'bout': 206,
     'n': 754,
     'q&a': 7,
     'watching': 1155,
     'private': 102,
     'twenty': 82,
     'try': 500,
     'harrelson': 6,
     'stay': 210,
     'male': 185,
     'iraq': 18,
     'ad': 407,
     'rang': 9,
     'boring.<br': 6,
     'ahead': 125,
     'low': 342,
     'dark': 400,
     'lily': 21,
     'sense': 589,
     'recognized': 50,
     'subject': 211,
     'way': 2028,
     'bondage': 15,
     'homosexual': 30,
     'lost': 466,
     'dignity': 32,
     'directing': 144,
     'elivers': 9,
     'redeem': 13,
     'giant': 82,
     'front': 182,
     'mid': 44,
     'moments': 443,
     'moritz': 4,
     'every': 1277,
     'tick': 11,
     'tolerable': 2,
     'ever': 1566,
     'oad': 37,
     'supporting': 423,
     'series': 663,
     'social': 201,
     'onotonous': 2,
     'attempts': 157,
     'plays': 898,
     'spite': 79,
     'utterly': 122,
     'paul': 324,
     'irecting': 59,
     'several': 549,
     'bounced': 1,
     'dimensional': 13,
     'sleepwalking': 1,
     'written': 436,
     'line': 407,
     'clumsy': 10,
     'wives': 24,
     'tory': 882,
     'managed': 150,
     'homas': 15,
     'ordinarily': 6,
     'rolling': 45,
     'acall': 7,
     'draining': 4,
     'incapable': 17,
     'east': 152,
     'properly': 37,
     'im': 748,
     'washington': 42,
     'energy': 91,
     'languages': 8,
     'southern': 55,
     'kristin': 5,
     'companion': 36,
     'lauren': 14,
     'lite': 5,
     'eads': 64,
     'south': 130,
     'still': 1888,
     'ounce': 11,
     'fact': 838,
     'heat': 39,
     'around': 963,
     'rocess': 34,
     'kind': 752,
     'camera': 378,
     'bored': 75,
     '.c': 22,
     'beginning': 441,
     'laws': 78,
     'ast': 573,
     'endless': 40,
     'affect': 48,
     'someone': 535,
     'ctresses': 30,
     'accent': 82,
     'magazine': 30,
     'fortunately': 32,
     'worth': 863,
     'deliver': 103,
     'comatose': 1,
     'act': 600,
     'scott': 119,
     'hink': 141,
     'ovies': 600,
     'interesting': 803,
     'fill': 60,
     'inutes': 147,
     'mean': 287,
     'events': 299,
     'completely': 482,
     'aked': 13,
     'iterally': 23,
     'troubled': 80,
     "director's": 87,
     'gritty': 84,
     'wasted': 45,
     'called': 412,
     'noteworthy': 15,
     'storyline': 164,
     'everything': 699,
     'oming': 22,
     'awson': 28,
     'ersion': 114,
     'nap': 4,
     'probably': 931,
     'disturbing': 121,
     'expect': 349,
     'nc-17': 6,
     'escent': 6,
     'away': 680,
     'basically': 210,
     'together': 607,
     'reams': 68,
     'vents': 74,
     'total': 136,
     'rosario': 23,
     'saw.<br': 3,
     'throw': 91,
     'o': 1041,
     'inadequacy': 2,
     'hows': 111,
     'opics': 9,
     'ease': 32,
     'sitcom': 40,
     'fight': 311,
     'development': 137,
     'uch': 304,
     'erformance': 287,
     'ood': 808,
     'ometimes': 47,
     'orruption': 12,
     'excellent': 929,
     'hints': 39,
     'tunning': 56,
     'discussion': 31,
     'job': 724,
     'related': 63,
     'bed': 84,
     'drinking': 47,
     'eremony': 1,
     'dinner': 46,
     'power': 264,
     'bearable': 1,
     'style.<br': 10,
     'visuals': 65,
     'redictable': 54,
     'watchable': 46,
     'train': 104,
     'tea': 31,
     ...}




```python
the_probability = dict_of_words['the'] / (len(train_neg_files) + len(train_pos_files))
print('P[“the”] = ',the_probability)
print('P[“the” | Positive]  =', dict_of_words_pos['the'] / len(train_pos_files)) 
```

    P[“the”] =  0.991
    P[“the” | Positive]  = 0.9896
    

###  d.Calculate accuracy using dev dataset


```python
right_num = 0
for file in development_neg_files:
    neg_probability = len(train_neg_files) / (len(train_neg_files) + len(train_pos_files))
    pos_probability = len(train_pos_files) / (len(train_neg_files) + len(train_pos_files))
    denominator_probability = 1
    f = open(file, encoding='utf-8')
    text = f.readlines()
    words = []
    for line in text:
        words = line.strip().split(" ")
        words = preprocess(words)
        for word in words:
            if not word in dict_of_words.keys():
                continue
            else:
                pos_probability *= (dict_of_words_pos[word] / len(train_pos_files))
                neg_probability *= (dict_of_words_neg[word] / len(train_neg_files))
    if pos_probability < neg_probability:
        right_num += 1

for file in development_pos_files:
    neg_probability = len(train_neg_files) / (len(train_neg_files) + len(train_pos_files))
    pos_probability = len(train_pos_files) / (len(train_neg_files) + len(train_pos_files))
    denominator_probability = 1
    f = open(file, encoding='utf-8')
    text = f.readlines()
    words = []
    for line in text:
        words = line.strip().split(" ")
        words = preprocess(words)
        for word in words:
            if not word in dict_of_words.keys():
                continue
            else:
                pos_probability *= (dict_of_words_pos[word] / len(train_pos_files))
                neg_probability *= (dict_of_words_neg[word] / len(train_neg_files))
    if pos_probability > neg_probability:
        right_num += 1
        
print('accuracy = ',right_num / (len(development_neg_files) + len(development_pos_files)))

```

    accuracy =  0.6546
    

###  e.Do following experiments
Compare the effect of Smoothing    



```python
right_num = 0
for file in development_neg_files:
    neg_probability = len(train_neg_files) / (len(train_neg_files) + len(train_pos_files))
    pos_probability = len(train_pos_files) / (len(train_neg_files) + len(train_pos_files))
    denominator_probability = 1
    f = open(file, encoding='utf-8')
    text = f.readlines()
    words = []
    for line in text:
        words = line.strip().split(" ")
        words = preprocess(words)
        for word in words:
            if not word in dict_of_words.keys():
                pos_probability *= (1 / len(train_pos_files))
                neg_probability *= (1 / len(train_neg_files))
            else:
                pos_probability *= (dict_of_words_pos[word] / len(train_pos_files))
                neg_probability *= (dict_of_words_neg[word] / len(train_neg_files))
    if pos_probability < neg_probability:
        right_num += 1

for file in development_pos_files:
    neg_probability = len(train_neg_files) / (len(train_neg_files) + len(train_pos_files))
    pos_probability = len(train_pos_files) / (len(train_neg_files) + len(train_pos_files))
    denominator_probability = 1
    f = open(file, encoding='utf-8')
    text = f.readlines()
    words = []
    for line in text:
        words = line.strip().split(" ")
        words = preprocess(words)
        for word in words:
            if not word in dict_of_words.keys():
                pos_probability *= (1 / len(train_pos_files))
                neg_probability *= (1 / len(train_neg_files))
            else:
                pos_probability *= (dict_of_words_pos[word] / len(train_pos_files))
                neg_probability *= (dict_of_words_neg[word] / len(train_neg_files))
    if pos_probability > neg_probability:
        right_num += 1
        
print('accuracy = ',right_num / (len(development_neg_files) + len(development_pos_files)))
```

    accuracy =  0.6036
    

Derive Top 10 words that predicts positive and negative class
P[Positive| word] 


```python
pos_list = []
neg_list = []

for word in reverse_index:
    pos_list.append((word, (dict_of_words_pos[word] / len(train_pos_files))))
    neg_list.append((word, (dict_of_words_neg[word] / len(train_neg_files))))

pos_list.sort(key=lambda tup: tup[1])
neg_list.sort(key=lambda tup: tup[1])
pos_list.reverse()
neg_list.reverse()

print('positive top 10 word: ',pos_list[:10])
print('negative top 10 word: ',neg_list[:10])
```

    positive top 10 word:  [('the', 0.9896), ('film', 0.4907), ('movie', 0.4783), ('like', 0.4143), ('just', 0.3668), ('good', 0.3268), ('see', 0.3113), ('great', 0.304), ('also', 0.2807), ('story', 0.279)]
    negative top 10 word:  [('the', 0.9924), ('movie', 0.5813), ('like', 0.4871), ('just', 0.4707), ('film', 0.456), ('even', 0.386), ('good', 0.3327), ('really', 0.3108), ('ovie', 0.2983), ('see', 0.2967)]
    

###  f. Using the test dataset
Use the optimal hyperparameters you found in the step e, and use it to calculate the final accuracy.



```python
right_num = 0
for file in test_neg_files:
    neg_probability = len(train_neg_files) / (len(train_neg_files) + len(train_pos_files))
    pos_probability = len(train_pos_files) / (len(train_neg_files) + len(train_pos_files))
    denominator_probability = 1
    f = open(file, encoding='utf-8')
    text = f.readlines()
    words = []
    for line in text:
        words = line.strip().split(" ")
        words = preprocess(words)
        for word in words:
            if not word in dict_of_words.keys():
                continue
            else:
                pos_probability *= (dict_of_words_pos[word] / len(train_pos_files))
                neg_probability *= (dict_of_words_neg[word] / len(train_neg_files))
    if pos_probability < neg_probability:
        right_num += 1

for file in test_pos_files:
    neg_probability = len(train_neg_files) / (len(train_neg_files) + len(train_pos_files))
    pos_probability = len(train_pos_files) / (len(train_neg_files) + len(train_pos_files))
    denominator_probability = 1
    f = open(file, encoding='utf-8')
    text = f.readlines()
    words = []
    for line in text:
        words = line.strip().split(" ")
        words = preprocess(words)
        for word in words:
            if not word in dict_of_words.keys():
                continue
            else:
                pos_probability *= (dict_of_words_pos[word] / len(train_pos_files))
                neg_probability *= (dict_of_words_neg[word] / len(train_neg_files))
    if pos_probability > neg_probability:
        right_num += 1
        
print('accuracy = ',right_num / (len(test_neg_files) + len(test_pos_files)))

```

    accuracy =  0.69056
    


```python

```
